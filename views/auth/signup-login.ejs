<%- include('../includes/head.ejs') %>
    </head>
  
  <body>
      <%- include('../includes/navigation.ejs') %>
   <section class="section columns is-multiline">
     <div class="is-one-third column">

     </div>
       <form class="box is-one-third column" action="<%= signup ? 'sign-up' : 'login' %>" method="POST">
      <h2 class="title is-size-4"><%= signup ? 'Sign Up' : 'Login' %></h2>

      <% if (errorMessage) { %>
        <div class="notification is-danger">
          <p><%= errorMessage %></p>
        </div>
      <% } %>
      <form method="POST" action="/<% if (signup) { %>signup<% } else { %>login<% } %>" >  
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">
        <% if (signup) { %>
          <div class="field">
            <label class="label">Username</label>
            <div class="control has-icons-left has-icons-right">
              <input class="input <%= validationErrors.find(e => e.param === 'username') ? 'is-danger' : '' %>" type="text" placeholder="Enter your username" name="username" required value="<%= signup ? oldInput.username : '' %>">
              <span class="icon is-small is-left">
              <i class="fas fa-user"></i>
              </span>
            </div>
          </div>
         
          <% }  %>
       <div class="field">
         <label class="label">Email</label>
         <div class="control has-icons-left has-icons-right">
           <input class="input <%= validationErrors.find(e => e.param === 'email') ? 'is-danger' : '' %>" type="email" placeholder="Enter your email" name="email" value="<%= signup ? oldInput.email : '' %>" required>
           <span class="icon is-small is-left">
             <i class="fas fa-envelope"></i>
           </span>
         </div>
       </div>
       <div class="field">
          <label class="label">Password</label>
          <div class="control has-icons-left has-icons-right">
            <input class="input <%= validationErrors.find(e => e.param === 'password') ? 'is-danger' : '' %>" type="password" placeholder="Enter your password" name="password" value="<%= signup ? oldInput.password : '' %>" required>
            <span class="icon is-small is-left">
                <i class="fas fa-key"></i>
            </span>
          </div>
        </div>
        <% if (signup) { %>
          <div class="field">
            <label class="label">Repeat Your Password</label>
            <div class="control has-icons-left has-icons-right">
              <input class="input <%= validationErrors.find(e => e.param === 'matchPassword') ? 'is-danger' : '' %>" type="password" placeholder="Enter your password" name="matchPassword" value="<%= signup ? oldInput.matchPassword : '' %>" required>
              <span class="icon is-small is-left">
                  <i class="fas fa-key"></i>
              </span>
            </div>
          </div>
          <% }  %>
       <div class="field is-grouped">
         <div class="control">
           <button class="button is-link"><%= signup ? 'Sign Up' : 'Login' %></button>
           <a class="is-dark" href="/reset">Forgot your password?</a>
         </div>
       </div>
      </form>
      <div class="is-one-third column">

        </div>
   </section>

    <%- include('../includes/end.ejs') %>
